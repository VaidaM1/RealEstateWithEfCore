@model List<RealEstate_with_efcore.Dtos.BrokerWithCompanyName>

<h2 class="d-inline-block mb-4 col-4">Brokers:</h2>

@Html.ActionLink("Add new broker", "Add", "Broker", null, new { @class = "btn btn-primary float-right" })

@if (Model.Count == 0)
{
    <p>There are no any brokers.</p>
}
else
{

    @*@using (Html.BeginForm("SortBrokers", "Broker", FormMethod.Post))
        {
            <div class="form-row">
                <div class="form-group col-1">
                    @Html.LabelFor(m => m.SortFilter.SortBy, "Filter by:")
                </div>
                <div class="form-group col-3">
                    @Html.DropDownListFor(m => m.SortFilter.FilterByBrokerId, new SelectList(Model.Brokers, "Id", "Name"), "Name", new { @class = "form-control" })
                </div>
                <button type="submit" class="btn btn-outline-primary mb-5">Filter</button>

            </div>*@


    <table class="table table-bordered table-hover">
        <thead>
            <tr>
                <th class="text-center">Id</th>
                <th class="text-center">Name</th>
                <th class="text-center">Surname</th>
                <th class="text-center">Company</th>
                <th class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var broker in @Model)
            {
                <tr>
                    <td class="text-center">@broker.Broker.Id</td>
                    <td class="text-center">@broker.Broker.Name</td>
                    <td class="text-center">@broker.Broker.Surname</td>
                    <td class="text-center">@broker.CompaniesNames</td>
                    <td class="text-center align-middle">
                        @Html.ActionLink("Edit", "Edit", "Broker", new { id = broker.Broker.Id }, new { @class = "btn btn-outline-warning", @style = "color:black" })
                        @Html.ActionLink("Delete", "Delete", "Broker", new { id = broker.Broker.Id }, new { @class = "btn btn-outline-danger", @style = "color:black" })
                    </td>
                </tr>
            }
        </tbody>
    </table>
}